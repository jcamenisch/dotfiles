UV_DOCKER_DIR=$UV_DIR/dev_environment
if [[ -d "$UV_DOCKER_DIR" ]]; then

  dc() (
    cd $UV_DOCKER_DIR
    docker-compose $*
  )

  dccleanup() (
    cd $UV_DOCKER_DIR
    docker ps -a --filter status=exited --format '{{.ID}}' | xargs docker rm
    docker images --filter dangling=true --format '{{.ID}}' | xargs docker rmi
    docker volume ls -q --filter dangling=true | xargs docker volume rm
  )

  safe_alias dcd 'dc down'

  dce() {
    container=$1; shift
    command=$(alias_content $1); shift
    eval "dc exec $container $command $*"
  }

  safe_alias dceu 'dce uservoice'
  safe_alias dclt 'dc logs -t'
  safe_alias dcp 'dc pull'

  dcr() {
    service=$1; shift
    dc exec $service run $*
  }

  safe_alias dcru 'dcr uservoice'

  dcrnbni() {
    dcr $1 --no-build --no-install
  }

  dcstatus() (
    cd $UV_DOCKER_DIR
    if [[ "$1" == "-w" ]]; then
      watch './status.sh'
    else
      ./status.sh
    fi
  )
fi
